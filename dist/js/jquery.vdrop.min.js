/*
 * Project: vDrop
 * Description: Select dropdown jQuery plug-in
 * Author: https://github.com/Wancieho
 * License: MIT
 * Version: 0.0.1
 * Dependancies: jquery-1.*
 * Date: 24/11/2016
 */
!function(e,t,i,s){"use strict";function n(t,i){this.element=t,this.settings=e.extend({},c,i),l.apply(this),a.apply(this)}function l(){var t=this,n=""!==this.settings.theme&&this.settings.theme!==s?" "+this.settings.theme:"";e(this.element).wrap('<div class="vDrop'+n+'"></div>').parent().append('<a href="#" class="vClicker"></a><ul></ul>'),0===p.length&&e(i).on("click",function(){t.hide()}),p.push(e(this.element)),this.render()}function a(){var t=this;e(this.element).siblings(".vClicker").on("click",function(i){i.preventDefault(),i.stopPropagation(),t.settings.allowMultiple||t.hide(s,e(this).siblings("select")),e(this).hasClass("open")?t.hide(t.element):e(this).addClass("open").siblings("ul").stop(!0).slideDown(t.settings.transitionSpeed)})}function h(){var t=this;e(this.element).siblings("ul").find("a").on("click",function(e){e.preventDefault(),e.stopPropagation(),o.apply(t,[this])})}function o(t){e(t).closest("ul").slideUp(this.settings.transitionSpeed).find("a").removeClass("selected"),e(t).addClass("selected"),e(t).closest("ul").siblings(".vClicker").text(e(t).text()),this.hide(e(this.element))}var d="vDrop",c={transitionSpeed:200,allowMultiple:!0,theme:""},p=[];e.extend(n.prototype,{render:function(){var t=this;e(this.element).siblings("ul").empty(),e.each(e(this.element).find("option"),function(i,s){e(t.element).siblings("ul").append('<li><a href="#" data-value="'+e(s).val()+'">'+e(s).text()+"</a></li>")}),h.apply(this),0===e(this.element).find("option[selected]").length&&e(this.element).find("option").eq(0).attr("selected","selected"),e(this.element).siblings("ul").children().eq(e(this.element).find("option:selected").index()).children().addClass("selected").attr("data-selected",!0),e(this.element).siblings(".vClicker").text(e(this.element).find("option:selected").text())},hide:function(t,i){var n=this;t!==s?e(t).siblings(".vClicker").removeClass("open").siblings("ul").stop(!0).slideUp(this.settings.transitionSpeed):e.each(p,function(){e(this).attr("name")!==e(i).attr("name")&&n.hide(this)})}}),e.fn[d]=function(t){return this.each(function(){e.data(this,"plugin_"+d)?"render"===t&&e(this).data("plugin_"+d).render():e.data(this,"plugin_"+d,new n(this,t))})}}(jQuery,window,document);